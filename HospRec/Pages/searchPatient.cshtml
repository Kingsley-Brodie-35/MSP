@page "/searchPatient"
@model HospRec.Pages.searchPatientModel
@{
}

<form method="post">
    <strong>Search by:</strong> 
    <p>
        <!-- textInput Id -->
        <label for="Id">ID</label>
        <input asp-for="Id"/>
        <span asp-validation-for="Id" class="text-danger"></span>
    </p>
    <p>
        <!-- textInput first name -->
        <label for="firstName">First Name</label>
        <input asp-for="firstName"/>
        <span asp-validation-for="firstName" class="text-danger"></span>
    </p>
    <p>
        <!-- textInput last name -->
        <label for="lastName">Last Name</label>
        <input asp-for="lastName"/>
        <span asp-validation-for="lastName" class="text-danger"></span>
    </p>
    <p>
        <!-- date of birth -->
        <label for="DOB">DOB</label>
        <input asp-for="DOB" />
        <span asp-validation-for="DOB" class="text-danger"></span>
    </p>
    <input type="submit" value="Search" class="btn btn-submit"/>
    <input type="reset" value="Clear" class="btn"/>
</form>

<!-- Display user search filter inputs -->
<p style="margin-top: 10px">
    <strong>Searching: </strong>
    @ViewData["filters"]
</p>

<!-- Table of results -->
<div class="grid_container_parent">
    <strong class="results_strong">Results</strong>
    <div class="flex_container_child no_hover">
        <div class="grid_item" ><b>ID</b></div>
        <div class="grid_item"><b>First Name</b></div>
        <div class="grid_item"><b>Last Name</b></div>
        <div class="grid_item"><b>DOB</b></div>
    </div>
    @foreach (var p in Model.Patients) 
    {
        <a asp-page="/patient" asp-route-patientID="@p.Id">
            <div class="flex_container_child">
                <div class="grid_item">@p.Id</div>
                <div class="grid_item">@p.firstName</div>
                <div class="grid_item">@p.lastName</div>
                <div class="grid_item">@p.DOB</div>
            </div>
        </a>
    }
</div> 